{
    "$schema": "http://gss-cogs.github.io/family-schemas/dataset-schema-1.1.0.json",
    "id": "hmrc-regional-trade-statistics",
    "title": "Regional Trade Statistics",
    "publisher": "HM Revenue & Customs",
    "description": "",
    "landingPage": "https://www.uktradeinfo.com/trade-data/regional/",
    "published": "2019-12-05",
    "dataURL": "https://api.uktradeinfo.com/RTS",
    "families": [
        "Trade"
    ],
    "extract": {
        "source": "JSON",
        "stage": "Done"
    },
    "transform": {
        "airtable": "reclNM0WAApNZVyh4",
        "main_issue": 12,
        "to_rdf": "csv2rdf",
        "columns": {
            "Period": {
                "type": "dimension",
                "new": {
                    "subPropertyOf": "http://purl.org/linked-data/sdmx/2009/dimension#refPeriod",
                    "codelist": false
                },
                "value": "https://reference.data.gov.uk/id/quarter/{+period}"
            },
            "Flow Type": {
                "type": "dimension",
                "uri": "http://gss-data.org.uk/def/trade/property/dimension/flow-directions",
                "value": "http://gss-data.org.uk/def/trade/concept/flow-directions/{+flow_type}"
            },
            "Region": {
                "type": "dimension",
                "new": {
                    "subPropertyOf": "http://purl.org/linked-data/sdmx/2009/dimension#refArea",
                    "codelist": "http://gss-data.org.uk/data/gss_data/trade/hmrc-regional-trade-statistics#scheme/uk-region" 
                },
                "value": "{+region}"
            },
            "Country": {
                "type": "dimension",
                "new": {
                    "subPropertyOf": "http://purl.org/linked-data/sdmx/2009/dimension#refArea",
                    "codelist": "http://gss-data.org.uk/def/trade/hmrc/concept-scheme/country"
                    },
                "value": "https://api.uktradeinfo.com/Country/{+country}"
            },
            "SITC Code": {
                "type": "dimension",
                "uri": "http://gss-data.org.uk/def/trade/property/dimension/sitc-4",
                "value": "http://gss-data.org.uk/def/trade/concept/sitc4/{+sitc_code}"
            },
            "Value": {
                "type": "observations",
                "datatype": "double"
            },
            "Measure Type": {
                "type": "measures",
                "value": "http://gss-data.org.uk/def/trade/measure/{+measure_type}"
            },
            "Unit": {
                "type": "units",
                "value": "{+unit}"
            }
        }
    },
    "odataConversion": {
        "publishedLocation": "https://staging.gss-data.org.uk/sparql",
        "datasetIdentifier": "http://gss-data.org.uk/data/gss_data/trade/hmrc-regional-trade-statistics#dataset",
        "chunkColumn": "MonthId",
        "chunkDimension": "http://gss-data.org.uk/data/gss_data/trade/hmrc-regional-trade-statistics#dimension/period",
        "supplementalEndpoints": {
            "FlowType": {
                "endpoint": "https://api.uktradeinfo.com/FlowType",
                "primaryKey": "FlowTypeId",
                "foreignKey": "FlowTypeId"
            },
            "Region": {
                "endpoint": "https://api.uktradeinfo.com/Region",
                "primaryKey": "RegionId",
                "foreignKey": "GovRegionId"
            },
            "Country": {
                "endpoint": "https://api.uktradeinfo.com/Country",
                "primaryKey": "CountryId",
                "foreignKey": "CountryId"
            },
            "SITC": {
                "endpoint": "https://api.uktradeinfo.com/SITC",
                "primaryKey": "CommoditySitcId",
                "foreignKey": "CommoditySitc2Id"
            }
        }
    },
    "load": {
        "accretiveUpload": true,
        "publish": true
    },
    "sizingNotes": "",
    "notes": "Updated with a revised landing page as the stats have moved, this this is available via an API https://www.uktradeinfo.com/api-documentation/",
    "datasetNotes": [
        "Updated with a revised landing page as the stats have moved, this this is available via an API https://www.uktradeinfo.com/api-documentation/"
    ]
}
